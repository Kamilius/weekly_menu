%html{:'ng-app' => 'weeklyMenuApp'}
  %head
    %meta{:charset => 'UTF-8'}
    %meta{:name => 'viewport', :content => 'width=device-width, initial-scale=1'}
    %title Меню на тиждень
    %link{:href => 'styles/style.css', :rel => 'stylesheet'}
  %body
    %header
      .container
        .logo
          %img{:src => 'images/chef_hat_logo.png'}
        %h2.title Меню на тиждень
    %nav
      .container
        %ul
          %li
            %a{:href => '#/home'} Перелік рецептів
          %li
            %a{:href => '#/recipes'} Додати рецепт
    
    %div.page-body{:'ng-view' => ''}

    %script{:type => 'text/ng-template', :id => 'calendar.html'}
      .container
        %section.row.calendar
          .calendar-days
            .col-md-1.day-header Понеділок
            .col-md-1.day-header Вівторок
            .col-md-1.day-header Середа
            .col-md-1.day-header Четвер
            .col-md-1.day-header П'ятниця
            .col-md-1.day-header Субота
            .col-md-1.day-header Неділя
          .calendar-recipes
            .day.col-md-1{:'ng-repeat' => 'day in weeklyMenu', :'ng-class' => '{ {{day.name}}: true }', :ondragover => "event.preventDefault()", :ondragenter => "DragEnterHandler", :ondragleave => "DragLeaveHandler"}
              .recipe{:'ng-repeat' => 'recipe in day.recipes'}
                %h5.recipe-title
                  {{ recipe.name }}
                %ul.recipe-ingredients
                  %li{:'ng-repeat' => 'ingredient in recipe.ingredients'}
                    {{ ingredient }}

    %script{:type => 'text/ng-template', :id => 'recipesContainer.html'}
      .container.recipes-container
        .recipe{:'ng-repeat' => 'recipe in recipes', :draggable => 'true', :'data-id' => '{{ recipe.id }}'}
          {{ recipe.name }}

    %script{:type => 'text/ng-template', :id => 'home.html'}
      %calendar
      %recipescontainer

    %script{:type => 'text/ng-template', :id => 'recipesCRUD.html'}
      .container
        %section.row
          %form.recipe-form.col-md-12{:role => "form"}
            .form-group
              %label{:for => "recipe-title"} Назва рецепту
              %input.form-control#recipe-title{:type => "text", :'ng-model' => 'recipe.name'}
            .form-group.recipe-ingredients
              %label Інгридієнти
              %input.form-control.ingredient{:type => "text", :'ng-repeat' => 'ingredient in recipe.ingredients', :'ng-model' => 'recipe.ingredients[$index].name'}
            %button.btn.btn-default{:'ng-click' => 'addIngredient()'}
              Додати інгредієнт

    %script{:src => 'scripts/main.min.js'}